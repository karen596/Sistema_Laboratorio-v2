{% extends 'base.html' %}
{% set title = 'Usuarios' %}
{% block content %}
<style>
  .table thead th {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: #2d6a4f;
    font-weight: 600;
    border: none;
    padding: 12px;
  }
  .table tbody tr {
    transition: all 0.3s ease;
  }
  .table tbody tr:hover {
    background: rgba(0, 184, 148, 0.05);
    transform: scale(1.01);
  }
</style>

<!-- Breadcrumb -->
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{{ url_for('dashboard') }}"><i class="bi bi-house-door"></i> Dashboard</a></li>
    <li class="breadcrumb-item active" aria-current="page">Usuarios</li>
  </ol>
</nav>

<!-- Header -->
<div class="card border-0 shadow-sm mb-4" style="background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);">
  <div class="card-body p-4">
    <h4 class="mb-1 text-white fw-bold"><i class="bi bi-people me-2"></i>Gestión de Usuarios</h4>
    <p class="mb-0 text-white opacity-90">Administra los usuarios del sistema</p>
  </div>
</div>

<!-- Tabla de Usuarios -->
<div class="card border-0 shadow-sm">
  <div class="card-header border-0" style="background: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);">
    <h6 class="mb-0 text-white fw-bold"><i class="bi bi-list-ul me-2"></i>Lista de Usuarios</h6>
  </div>
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0" id="tablaUsuarios">
        <thead>
          <tr>
            <th>ID</th>
            <th><i class="bi bi-person me-1"></i>Nombre</th>
            <th><i class="bi bi-tag me-1"></i>Tipo</th>
            <th><i class="bi bi-book me-1"></i>Programa</th>
            <th><i class="bi bi-shield me-1"></i>Nivel</th>
            <th>Activo</th>
            <th><i class="bi bi-envelope me-1"></i>Email</th>
            <th><i class="bi bi-calendar me-1"></i>Registro</th>
            <th><i class="bi bi-camera me-1"></i>Rostro</th>
          </tr>
        </thead>
        <tbody>
          {% for u in usuarios %}
          <tr>
            <td class="text-muted small">{{ u.id }}</td>
            <td class="fw-semibold" style="color: #2d6a4f;">{{ u.nombre }}</td>
            <td><span class="badge rounded-pill" style="background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);">{{ u.tipo }}</span></td>
            <td class="small">{{ u.programa }}</td>
            <td><span class="badge rounded-pill px-3" style="background: linear-gradient(135deg, #00b894 0%, #009b7d 100%);">{{ u.nivel_acceso }}</span></td>
            <td>
              {% if u.activo %}
              <span class="badge rounded-pill px-3" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);">
                <i class="bi bi-check-circle me-1"></i>Sí
              </span>
              {% else %}
              <span class="badge rounded-pill px-3" style="background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);">
                <i class="bi bi-x-circle me-1"></i>No
              </span>
              {% endif %}
            </td>
            <td class="small text-muted">{{ u.email or '-' }}</td>
            <td class="small">{{ u.registro }}</td>
            <td>
              {% if u.tiene_rostro == 'Sí' %}
              <span class="badge rounded-pill" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);">
                <i class="bi bi-check-circle"></i>
              </span>
              {% else %}
              <span class="badge rounded-pill" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);">
                <i class="bi bi-x-circle"></i>
              </span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
